<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NexShell: NexShell/NexShell/NexShell.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NexShell<span id="projectnumber">&#160;v0.00.01</span>
   </div>
   <div id="projectbrief">A Unix esque shell in conjunction with the FatFs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_nex_shell_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">NexShell.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;Pipe.h&quot;</code><br />
<code>#include &quot;LinkedList.h&quot;</code><br />
<code>#include &quot;ff.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_nex_shell_8h_source.html">NexShell.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_nex_shell_config_8h_source.html">NexShellConfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_virtual_file_8h_source.html">VirtualFile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_dev_files_8h_source.html">DevFiles.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_nex_shell_commands_8h_source.html">NexShellCommands.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_nex_shell_callbacks_8h_source.html">NexShellCallbacks.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cd___command_8h_source.html">cd_Command.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for NexShell.c:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_8c__incl.png" border="0" usemap="#a_nex_shell_2_nex_shell_2_nex_shell_8c" alt=""/></div>
</div>
</div>
<p><a href="_nex_shell_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8557f88d2ea817e127f0b6d97e73441f" id="r_a8557f88d2ea817e127f0b6d97e73441f"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8557f88d2ea817e127f0b6d97e73441f">NexShellGetRootDriveVolume</a> (void)</td></tr>
<tr class="memdesc:a8557f88d2ea817e127f0b6d97e73441f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the root drive of the NexShell.  <br /></td></tr>
<tr class="separator:a8557f88d2ea817e127f0b6d97e73441f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c26605743fbe20c4e708ac2edeeea0" id="r_ac4c26605743fbe20c4e708ac2edeeea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4c26605743fbe20c4e708ac2edeeea0">NexShellInit</a> (char CurrentDrive)</td></tr>
<tr class="memdesc:ac4c26605743fbe20c4e708ac2edeeea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the NexShell.  <br /></td></tr>
<tr class="separator:ac4c26605743fbe20c4e708ac2edeeea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bb18561936cae7000b6c939a456ee1" id="r_a31bb18561936cae7000b6c939a456ee1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31bb18561936cae7000b6c939a456ee1">UpdateHistory</a> (BOOL Increment, <a class="el" href="struct_p_i_p_e.html">PIPE</a> *InputStream, <a class="el" href="struct_p_i_p_e.html">PIPE</a> *OutputStream)</td></tr>
<tr class="separator:a31bb18561936cae7000b6c939a456ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706a9c71a3505c10a528840943ee2026" id="r_a706a9c71a3505c10a528840943ee2026"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a706a9c71a3505c10a528840943ee2026">NexShellReadTasks</a> (<a class="el" href="struct_p_i_p_e.html">PIPE</a> *InputStream, <a class="el" href="struct_p_i_p_e.html">PIPE</a> *OutputStream, char *CurrentWorkingDirectory)</td></tr>
<tr class="separator:a706a9c71a3505c10a528840943ee2026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a86de9649426bc9ab1ae87719b42af" id="r_ae2a86de9649426bc9ab1ae87719b42af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2a86de9649426bc9ab1ae87719b42af">NexShellUserWriteTasks</a> (void)</td></tr>
<tr class="memdesc:ae2a86de9649426bc9ab1ae87719b42af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the input stream of the NexShell.  <br /></td></tr>
<tr class="separator:ae2a86de9649426bc9ab1ae87719b42af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1554841936d4f91705904c3255784a83" id="r_a1554841936d4f91705904c3255784a83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1554841936d4f91705904c3255784a83">NexShellUserReadTasks</a> (void)</td></tr>
<tr class="memdesc:a1554841936d4f91705904c3255784a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the input stream of the NexShell.  <br /></td></tr>
<tr class="separator:a1554841936d4f91705904c3255784a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d497789661118a6829019cd35a864e" id="r_a39d497789661118a6829019cd35a864e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39d497789661118a6829019cd35a864e">NexShellGetCurrentWorkingDirectory</a> (void)</td></tr>
<tr class="memdesc:a39d497789661118a6829019cd35a864e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current working directory of the NexShell.  <br /></td></tr>
<tr class="separator:a39d497789661118a6829019cd35a864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a17a8275006409cfc0b3a533c7cd4b3b2" id="r_a17a8275006409cfc0b3a533c7cd4b3b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_i_p_e.html">PIPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17a8275006409cfc0b3a533c7cd4b3b2">gStandardOutputStream</a></td></tr>
<tr class="separator:a17a8275006409cfc0b3a533c7cd4b3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546b64e5f0ed4c1370c57f5a00bc173b" id="r_a546b64e5f0ed4c1370c57f5a00bc173b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_i_p_e.html">PIPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a546b64e5f0ed4c1370c57f5a00bc173b">gStandardInputStream</a></td></tr>
<tr class="separator:a546b64e5f0ed4c1370c57f5a00bc173b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553a5e3dfaf011b1e6beec5ab37e2e36" id="r_a553a5e3dfaf011b1e6beec5ab37e2e36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_p_i_p_e.html">PIPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a553a5e3dfaf011b1e6beec5ab37e2e36">gShellOperatorStream</a></td></tr>
<tr class="separator:a553a5e3dfaf011b1e6beec5ab37e2e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82755e965c680dff20589ce6a00bcb1" id="r_aa82755e965c680dff20589ce6a00bcb1"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa82755e965c680dff20589ce6a00bcb1">gOutputStreamBuffer</a> [<a class="el" href="_nex_shell_config_8h.html#aefb638087fbcb7524294c72d7fc350ee">SIZE_OF_OUTPUT_STREAM_BUFFER_IN_BYTES</a>]</td></tr>
<tr class="separator:aa82755e965c680dff20589ce6a00bcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57e21ddbeeb096993a25ef8ed60cdc9" id="r_af57e21ddbeeb096993a25ef8ed60cdc9"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af57e21ddbeeb096993a25ef8ed60cdc9">gInputStreamBuffer</a> [<a class="el" href="_nex_shell_config_8h.html#a26060cd33032568e1007dc4be14a3938">SIZE_OF_INPUT_STREAM_BUFFER_IN_BYTES</a>]</td></tr>
<tr class="separator:af57e21ddbeeb096993a25ef8ed60cdc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ee2c086b58128b625c69cccb94798f" id="r_ad3ee2c086b58128b625c69cccb94798f"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3ee2c086b58128b625c69cccb94798f">gShellOperatorBuffer</a> [SIZE_OF_SHELL_OPERATOR_STREAM_BUFFER_IN_BYTES]</td></tr>
<tr class="separator:ad3ee2c086b58128b625c69cccb94798f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831bb8573edb41304a662596104f6c40" id="r_a831bb8573edb41304a662596104f6c40"><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a831bb8573edb41304a662596104f6c40">gEscapeSequence</a></td></tr>
<tr class="separator:a831bb8573edb41304a662596104f6c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4a04150da4b734b852eb650dc2234a" id="r_afe4a04150da4b734b852eb650dc2234a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_a_t_f_s.html">FATFS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe4a04150da4b734b852eb650dc2234a">gFatFs</a></td></tr>
<tr class="separator:afe4a04150da4b734b852eb650dc2234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfb5f31fddba8dcc83bfee875464321" id="r_aebfb5f31fddba8dcc83bfee875464321"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebfb5f31fddba8dcc83bfee875464321">gCurrentWorkingDirectory</a> [SHELL_MAX_DIRECTORY_SIZE_IN_BYTES+1+2]</td></tr>
<tr class="separator:aebfb5f31fddba8dcc83bfee875464321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92414c7bc66e18db6e6960c2ba78a03e" id="r_a92414c7bc66e18db6e6960c2ba78a03e"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92414c7bc66e18db6e6960c2ba78a03e">gRootDirectoryDrive</a></td></tr>
<tr class="separator:a92414c7bc66e18db6e6960c2ba78a03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745b8024a0973549a01d6eeefce7ba68" id="r_a745b8024a0973549a01d6eeefce7ba68"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a745b8024a0973549a01d6eeefce7ba68">gNexShellError</a> []</td></tr>
<tr class="separator:a745b8024a0973549a01d6eeefce7ba68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e64b276b85622c118ef9b6e9c6243ea" id="r_a6e64b276b85622c118ef9b6e9c6243ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_linked_list.html">LINKED_LIST</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e64b276b85622c118ef9b6e9c6243ea">gHistoryList</a></td></tr>
<tr class="separator:a6e64b276b85622c118ef9b6e9c6243ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4137df9cb1fc91df71cca6c6c1e1ee" id="r_afe4137df9cb1fc91df71cca6c6c1e1ee"><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe4137df9cb1fc91df71cca6c6c1e1ee">gHistoryIndex</a></td></tr>
<tr class="separator:afe4137df9cb1fc91df71cca6c6c1e1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the main implementation interface to the NexShell. This file contains all the methods to initialize and run the NexShell. </p>

<p class="definition">Definition in file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a39d497789661118a6829019cd35a864e" name="a39d497789661118a6829019cd35a864e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d497789661118a6829019cd35a864e">&#9670;&#160;</a></span>NexShellGetCurrentWorkingDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * NexShellGetCurrentWorkingDirectory </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current working directory of the NexShell. </p>
<dl class="section return"><dt>Returns</dt><dd>char* - The NexShell working directory.</dd></dl>
<p>This function can be called to get the working directory of the NexShell. The working directory is what is referenced with "./" in the shell. </p>

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l01131">1131</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_8c_a39d497789661118a6829019cd35a864e_icgraph.png" border="0" usemap="#a_nex_shell_8c_a39d497789661118a6829019cd35a864e_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8557f88d2ea817e127f0b6d97e73441f" name="a8557f88d2ea817e127f0b6d97e73441f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8557f88d2ea817e127f0b6d97e73441f">&#9670;&#160;</a></span>NexShellGetRootDriveVolume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char NexShellGetRootDriveVolume </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the root drive of the NexShell. </p>
<dl class="section return"><dt>Returns</dt><dd>char - The NexShell root drive.</dd></dl>
<p>This function can be called to get the root drive of the NexShell. The NexShell root drive is determined by what was passed in to <a class="el" href="#ac4c26605743fbe20c4e708ac2edeeea0">NexShellInit()</a> for the parameter CurrentDrive.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_nex_shell_8h.html#ac4c26605743fbe20c4e708ac2edeeea0" title="Initializes the NexShell.">NexShellInit()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00163">163</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_8c_a8557f88d2ea817e127f0b6d97e73441f_icgraph.png" border="0" usemap="#a_nex_shell_8c_a8557f88d2ea817e127f0b6d97e73441f_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ac4c26605743fbe20c4e708ac2edeeea0" name="ac4c26605743fbe20c4e708ac2edeeea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c26605743fbe20c4e708ac2edeeea0">&#9670;&#160;</a></span>NexShellInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a> NexShellInit </td>
          <td>(</td>
          <td class="paramtype">char</td>          <td class="paramname"><span class="paramname"><em>CurrentDrive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the NexShell. </p>
<p>This function will initialize all data structures needed to run the NexShell. This method should be called before any other method in the NexShell library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BYTE</td><td>CurrentDrive - The main drive to initialize. This is the disk drive that the NexShell will work out of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SHELL_RESULT - The outcome of the operation.</dd></dl>
<p>This function initializes everything in the NexShell. It should be called before any other method in the NexShell. The drive will be initialized through the FatFs. If no valid file system is found this method will attempt to create one with a call to f_mkfs() on the root. This function initializes all standard streams too. Afterwards the methods NexShellReadTasks() and NexShellWriteTasks() should be called to run the shell. These can be called from the same thread, but the size of data writing out cannot exceed <a class="el" href="_nex_shell_config_8h.html#aefb638087fbcb7524294c72d7fc350ee">SIZE_OF_OUTPUT_STREAM_BUFFER_IN_BYTES</a> found in <a class="el" href="_nex_shell_config_8h.html">NexShellConfig.h</a>. If NexShellReadTasks() and NexShellWriteTasks() are called from different threads then the data written to the standard stream can exceed <a class="el" href="_nex_shell_config_8h.html#aefb638087fbcb7524294c72d7fc350ee">SIZE_OF_OUTPUT_STREAM_BUFFER_IN_BYTES</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_nex_shell_8h.html#a1554841936d4f91705904c3255784a83" title="Updates the input stream of the NexShell.">NexShellUserReadTasks()</a>, <a class="el" href="_nex_shell_8h.html#ae2a86de9649426bc9ab1ae87719b42af" title="Updates the input stream of the NexShell.">NexShellUserWriteTasks()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00168">168</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_8c_ac4c26605743fbe20c4e708ac2edeeea0_cgraph.png" border="0" usemap="#a_nex_shell_8c_ac4c26605743fbe20c4e708ac2edeeea0_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a706a9c71a3505c10a528840943ee2026" name="a706a9c71a3505c10a528840943ee2026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a706a9c71a3505c10a528840943ee2026">&#9670;&#160;</a></span>NexShellReadTasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a> NexShellReadTasks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_p_e.html">PIPE</a> *</td>          <td class="paramname"><span class="paramname"><em>InputStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_p_e.html">PIPE</a> *</td>          <td class="paramname"><span class="paramname"><em>OutputStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>CurrentWorkingDirectory</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l01028">1028</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a1554841936d4f91705904c3255784a83" name="a1554841936d4f91705904c3255784a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1554841936d4f91705904c3255784a83">&#9670;&#160;</a></span>NexShellUserReadTasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a> NexShellUserReadTasks </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the input stream of the NexShell. </p>
<p>This function must be called periodically to update the standard input stream of the NexShell. This method is thread safe.</p>
<dl class="section return"><dt>Returns</dt><dd>SHELL_RESULT - The outcome of the operation.</dd></dl>
<p>This function updates the input stream of the NexShell and will execute any commands sent to the NexShell. The function StreamReaderDataHALCallback() is called from this method and will update the standard input stream with the data returned.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_nex_shell_8h.html#ac4c26605743fbe20c4e708ac2edeeea0" title="Initializes the NexShell.">NexShellInit()</a>, <a class="el" href="_nex_shell_8h.html#ae2a86de9649426bc9ab1ae87719b42af" title="Updates the input stream of the NexShell.">NexShellUserWriteTasks()</a>, StreamReaderDataHALCallback() </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l01126">1126</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="ae2a86de9649426bc9ab1ae87719b42af" name="ae2a86de9649426bc9ab1ae87719b42af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a86de9649426bc9ab1ae87719b42af">&#9670;&#160;</a></span>NexShellUserWriteTasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a> NexShellUserWriteTasks </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the input stream of the NexShell. </p>
<p>This function must be called periodically to update the standard output stream of the NexShell. This method is thread safe.</p>
<dl class="section return"><dt>Returns</dt><dd>SHELL_RESULT - The outcome of the operation.</dd></dl>
<p>This function updates the input stream of the NexShell and will execute any commands sent to the NexShell. The function StreamWriteDataHALCallback() is called from this method and will read data from the standard output stream and pass it to StreamWriteDataHALCallback() for transmission.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_nex_shell_8h.html#ac4c26605743fbe20c4e708ac2edeeea0" title="Initializes the NexShell.">NexShellInit()</a>, <a class="el" href="_nex_shell_8h.html#a1554841936d4f91705904c3255784a83" title="Updates the input stream of the NexShell.">NexShellUserReadTasks()</a>, StreamReaderDataHALCallback() </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l01121">1121</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a31bb18561936cae7000b6c939a456ee1" name="a31bb18561936cae7000b6c939a456ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bb18561936cae7000b6c939a456ee1">&#9670;&#160;</a></span>UpdateHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_nex_shell_8h.html#a0ff75ca57fa32d870fbc39121c3cb037">SHELL_RESULT</a> UpdateHistory </td>
          <td>(</td>
          <td class="paramtype">BOOL</td>          <td class="paramname"><span class="paramname"><em>Increment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_p_e.html">PIPE</a> *</td>          <td class="paramname"><span class="paramname"><em>InputStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_p_e.html">PIPE</a> *</td>          <td class="paramname"><span class="paramname"><em>OutputStream</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00762">762</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aebfb5f31fddba8dcc83bfee875464321" name="aebfb5f31fddba8dcc83bfee875464321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfb5f31fddba8dcc83bfee875464321">&#9670;&#160;</a></span>gCurrentWorkingDirectory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BYTE gCurrentWorkingDirectory[SHELL_MAX_DIRECTORY_SIZE_IN_BYTES+1+2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00046">46</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a831bb8573edb41304a662596104f6c40" name="a831bb8573edb41304a662596104f6c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831bb8573edb41304a662596104f6c40">&#9670;&#160;</a></span>gEscapeSequence</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 gEscapeSequence</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00040">40</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="afe4a04150da4b734b852eb650dc2234a" name="afe4a04150da4b734b852eb650dc2234a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4a04150da4b734b852eb650dc2234a">&#9670;&#160;</a></span>gFatFs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_a_t_f_s.html">FATFS</a> gFatFs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00043">43</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="afe4137df9cb1fc91df71cca6c6c1e1ee" name="afe4137df9cb1fc91df71cca6c6c1e1ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4137df9cb1fc91df71cca6c6c1e1ee">&#9670;&#160;</a></span>gHistoryIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 gHistoryIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00104">104</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a6e64b276b85622c118ef9b6e9c6243ea" name="a6e64b276b85622c118ef9b6e9c6243ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e64b276b85622c118ef9b6e9c6243ea">&#9670;&#160;</a></span>gHistoryList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_linked_list.html">LINKED_LIST</a> gHistoryList</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00103">103</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="af57e21ddbeeb096993a25ef8ed60cdc9" name="af57e21ddbeeb096993a25ef8ed60cdc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57e21ddbeeb096993a25ef8ed60cdc9">&#9670;&#160;</a></span>gInputStreamBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BYTE gInputStreamBuffer[<a class="el" href="_nex_shell_config_8h.html#a26060cd33032568e1007dc4be14a3938">SIZE_OF_INPUT_STREAM_BUFFER_IN_BYTES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00036">36</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a745b8024a0973549a01d6eeefce7ba68" name="a745b8024a0973549a01d6eeefce7ba68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745b8024a0973549a01d6eeefce7ba68">&#9670;&#160;</a></span>gNexShellError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* gNexShellError[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00052">52</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="aa82755e965c680dff20589ce6a00bcb1" name="aa82755e965c680dff20589ce6a00bcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82755e965c680dff20589ce6a00bcb1">&#9670;&#160;</a></span>gOutputStreamBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BYTE gOutputStreamBuffer[<a class="el" href="_nex_shell_config_8h.html#aefb638087fbcb7524294c72d7fc350ee">SIZE_OF_OUTPUT_STREAM_BUFFER_IN_BYTES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00035">35</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a92414c7bc66e18db6e6960c2ba78a03e" name="a92414c7bc66e18db6e6960c2ba78a03e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92414c7bc66e18db6e6960c2ba78a03e">&#9670;&#160;</a></span>gRootDirectoryDrive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BYTE gRootDirectoryDrive</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00049">49</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="ad3ee2c086b58128b625c69cccb94798f" name="ad3ee2c086b58128b625c69cccb94798f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ee2c086b58128b625c69cccb94798f">&#9670;&#160;</a></span>gShellOperatorBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BYTE gShellOperatorBuffer[SIZE_OF_SHELL_OPERATOR_STREAM_BUFFER_IN_BYTES]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00037">37</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a553a5e3dfaf011b1e6beec5ab37e2e36" name="a553a5e3dfaf011b1e6beec5ab37e2e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a553a5e3dfaf011b1e6beec5ab37e2e36">&#9670;&#160;</a></span>gShellOperatorStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_i_p_e.html">PIPE</a> gShellOperatorStream</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00032">32</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a546b64e5f0ed4c1370c57f5a00bc173b" name="a546b64e5f0ed4c1370c57f5a00bc173b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546b64e5f0ed4c1370c57f5a00bc173b">&#9670;&#160;</a></span>gStandardInputStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_i_p_e.html">PIPE</a> gStandardInputStream</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00032">32</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
<a id="a17a8275006409cfc0b3a533c7cd4b3b2" name="a17a8275006409cfc0b3a533c7cd4b3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a8275006409cfc0b3a533c7cd4b3b2">&#9670;&#160;</a></span>gStandardOutputStream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_p_i_p_e.html">PIPE</a> gStandardOutputStream</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_nex_shell_8c_source.html#l00032">32</a> of file <a class="el" href="_nex_shell_8c_source.html">NexShell.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9662453b8aa11dc8a06f840845195316.html">NexShell</a></li><li class="navelem"><a class="el" href="dir_3af21ba60b481d3981e98075c6af07b8.html">NexShell</a></li><li class="navelem"><a class="el" href="_nex_shell_8c.html">NexShell.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
