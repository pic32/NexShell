<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NexShell: NexShell/NexShell/NexShellCallbacks.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NexShell<span id="projectnumber">&#160;v0.00.01</span>
   </div>
   <div id="projectbrief">A Unix esque shell in conjunction with the FatFs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_nex_shell_callbacks_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">NexShellCallbacks.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;GenericTypes.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for NexShellCallbacks.h:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_callbacks_8h__incl.png" border="0" usemap="#a_nex_shell_2_nex_shell_2_nex_shell_callbacks_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_callbacks_8h__dep__incl.png" border="0" usemap="#a_nex_shell_2_nex_shell_2_nex_shell_callbacks_8hdep" alt=""/></div>
</div>
</div>
<p><a href="_nex_shell_callbacks_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8cb24e5e282e5ec3a3a4d5a770f90930" id="r_a8cb24e5e282e5ec3a3a4d5a770f90930"><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cb24e5e282e5ec3a3a4d5a770f90930">StreamWriteDataHALCallback</a> (BYTE *DataBuffer, UINT32 DataBufferSizeInBytes)</td></tr>
<tr class="memdesc:a8cb24e5e282e5ec3a3a4d5a770f90930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data out from the standard output stream.  <br /></td></tr>
<tr class="separator:a8cb24e5e282e5ec3a3a4d5a770f90930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e256c0b9c009346c93a89d6be6bf6b3" id="r_a9e256c0b9c009346c93a89d6be6bf6b3"><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e256c0b9c009346c93a89d6be6bf6b3">StreamReaderDataHALCallback</a> (BYTE *DataBuffer, UINT32 DataBufferSizeInBytes)</td></tr>
<tr class="memdesc:a9e256c0b9c009346c93a89d6be6bf6b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data in from another source.  <br /></td></tr>
<tr class="separator:a9e256c0b9c009346c93a89d6be6bf6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58b536abfd30f77213f4ecaf2ac52f5" id="r_af58b536abfd30f77213f4ecaf2ac52f5"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af58b536abfd30f77213f4ecaf2ac52f5">get_fattime</a> (void)</td></tr>
<tr class="memdesc:af58b536abfd30f77213f4ecaf2ac52f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the packed date time for the FatFs.  <br /></td></tr>
<tr class="separator:af58b536abfd30f77213f4ecaf2ac52f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54cc361894fa571be4cf9a16a7df2b9a" id="r_a54cc361894fa571be4cf9a16a7df2b9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54cc361894fa571be4cf9a16a7df2b9a">ShellPowerOffCallback</a> (void)</td></tr>
<tr class="memdesc:a54cc361894fa571be4cf9a16a7df2b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts the system down and powers off.  <br /></td></tr>
<tr class="separator:a54cc361894fa571be4cf9a16a7df2b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5fb3a2a274f698dc0f29666c4eac7dc" id="r_ad5fb3a2a274f698dc0f29666c4eac7dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5fb3a2a274f698dc0f29666c4eac7dc">ShellPowerDownSleepCallback</a> (void)</td></tr>
<tr class="memdesc:ad5fb3a2a274f698dc0f29666c4eac7dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the system into sleep mode.  <br /></td></tr>
<tr class="separator:ad5fb3a2a274f698dc0f29666c4eac7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1656e3d2ec4a95b92c8704dac0f856" id="r_a1b1656e3d2ec4a95b92c8704dac0f856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b1656e3d2ec4a95b92c8704dac0f856">ShellPowerResetCallback</a> (void)</td></tr>
<tr class="memdesc:a1b1656e3d2ec4a95b92c8704dac0f856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the system.  <br /></td></tr>
<tr class="separator:a1b1656e3d2ec4a95b92c8704dac0f856"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This contains the callbacks that need to be implemented by the user for the NexShell to run. </p>

<p class="definition">Definition in file <a class="el" href="_nex_shell_callbacks_8h_source.html">NexShellCallbacks.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af58b536abfd30f77213f4ecaf2ac52f5" name="af58b536abfd30f77213f4ecaf2ac52f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58b536abfd30f77213f4ecaf2ac52f5">&#9670;&#160;</a></span>get_fattime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD get_fattime </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the packed date time for the FatFs. </p>
<dl class="section return"><dt>Returns</dt><dd>DWORD - The packed date time for use by the FatFs.</dd></dl>
<p>This function must be implemented by the user. It is designed to return the packed date time for the FatFs. The DWORD that is returned must have the following format:</p>
<p>bit 31:25 Year origin from the 1980 (0..127, e.g. 37 for 2017)</p>
<p>bit 24:21 Month (1..12)</p>
<p>bit 20:16 Day of the month (1..31)</p>
<p>bit 15:11 Hour (0..23)</p>
<p>bit 10:5 Minute (0..59)</p>
<p>bit 4:0 Second / 2 (0..29, e.g. 25 for 50) </p>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00066">66</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_nex_shell_callbacks_8h_af58b536abfd30f77213f4ecaf2ac52f5_cgraph.png" border="0" usemap="#a_nex_shell_callbacks_8h_af58b536abfd30f77213f4ecaf2ac52f5_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad5fb3a2a274f698dc0f29666c4eac7dc" name="ad5fb3a2a274f698dc0f29666c4eac7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5fb3a2a274f698dc0f29666c4eac7dc">&#9670;&#160;</a></span>ShellPowerDownSleepCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShellPowerDownSleepCallback </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the system into sleep mode. </p>
<p>This function must be implemented by the user if USE_SHUTDOWN_COMMAND is set to a 1. This callback is called when the user initiates a "shutdown -H" command, and is called before the system calls ioctl() with the SYSTEM_SHUTDOWN_SLEEP argument. This gives the developer a chance to clean anything up before the system actually sleeps. Once the system is asleep power consumption will be reduced. Any interrupt will wake the system up and execution will resume from this command.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a54cc361894fa571be4cf9a16a7df2b9a" title="Shuts the system down and powers off.">ShellPowerOffCallback()</a>, <a class="el" href="#a1b1656e3d2ec4a95b92c8704dac0f856" title="Resets the system.">ShellPowerResetCallback()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00105">105</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>

</div>
</div>
<a id="a54cc361894fa571be4cf9a16a7df2b9a" name="a54cc361894fa571be4cf9a16a7df2b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54cc361894fa571be4cf9a16a7df2b9a">&#9670;&#160;</a></span>ShellPowerOffCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShellPowerOffCallback </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts the system down and powers off. </p>
<p>This function must be implemented by the user if USE_SHUTDOWN_COMMAND is set to a 1. This callback is called when the user initiates a "shutdown -P" command, and is called before the system calls ioctl() with the SYSTEM_SHUTDOWN_POWER_OFF argument. This gives the developer a chance to clean anything up before the system actually turns off.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad5fb3a2a274f698dc0f29666c4eac7dc" title="Puts the system into sleep mode.">ShellPowerDownSleepCallback()</a>, <a class="el" href="#a1b1656e3d2ec4a95b92c8704dac0f856" title="Resets the system.">ShellPowerResetCallback()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00100">100</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>

</div>
</div>
<a id="a1b1656e3d2ec4a95b92c8704dac0f856" name="a1b1656e3d2ec4a95b92c8704dac0f856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1656e3d2ec4a95b92c8704dac0f856">&#9670;&#160;</a></span>ShellPowerResetCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ShellPowerResetCallback </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the system. </p>
<p>This function must be implemented by the user if USE_SHUTDOWN_COMMAND is set to a 1. This callback is called when the user initiates a "shutdown -r" command, and is called before the system calls ioctl() with the SYSTEM_SHUTDOWN_RESET argument. This gives the developer a chance to clean anything up before the system actually resets. Once the system is reset execution will begin as if the system powered on.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a54cc361894fa571be4cf9a16a7df2b9a" title="Shuts the system down and powers off.">ShellPowerOffCallback()</a>, <a class="el" href="#ad5fb3a2a274f698dc0f29666c4eac7dc" title="Puts the system into sleep mode.">ShellPowerDownSleepCallback()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00110">110</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>

</div>
</div>
<a id="a9e256c0b9c009346c93a89d6be6bf6b3" name="a9e256c0b9c009346c93a89d6be6bf6b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e256c0b9c009346c93a89d6be6bf6b3">&#9670;&#160;</a></span>StreamReaderDataHALCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 StreamReaderDataHALCallback </td>
          <td>(</td>
          <td class="paramtype">BYTE *</td>          <td class="paramname"><span class="paramname"><em>DataBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32</td>          <td class="paramname"><span class="paramname"><em>DataBufferSizeInBytes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data in from another source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BYTE</td><td>*DataBuffer - The buffer to store the data in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UINT32</td><td>DataBuffersSizeInBytes - The requested number of bytes in DataBuffer to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>UINT32 - The number of bytes successfully written by the callback function.</dd></dl>
<p>This function must be implemented by the user. It is designed to take data from another source (usually a hardware peripheral like a UART) and write it to DataBuffer. The max number that DataBufferSizeInBytes would contain is SHELL_HAL_MAX_TRANSFER_SIZE_IN_BYTES.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a8cb24e5e282e5ec3a3a4d5a770f90930" title="Writes data out from the standard output stream.">StreamWriteDataHALCallback()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00022">22</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>

</div>
</div>
<a id="a8cb24e5e282e5ec3a3a4d5a770f90930" name="a8cb24e5e282e5ec3a3a4d5a770f90930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb24e5e282e5ec3a3a4d5a770f90930">&#9670;&#160;</a></span>StreamWriteDataHALCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 StreamWriteDataHALCallback </td>
          <td>(</td>
          <td class="paramtype">BYTE *</td>          <td class="paramname"><span class="paramname"><em>DataBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32</td>          <td class="paramname"><span class="paramname"><em>DataBufferSizeInBytes</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data out from the standard output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BYTE</td><td>*DataBuffer - The data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UINT32</td><td>DataBuffersSizeInBytes - The requested number of bytes in DataBuffer to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>UINT32 - The number of bytes successfully written by the callback function.</dd></dl>
<p>This function must be implemented by the user. It is designed to take data from the shell and output it to a hardware device like a UART.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a9e256c0b9c009346c93a89d6be6bf6b3" title="Read data in from another source.">StreamReaderDataHALCallback()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_nex_shell_callbacks_8c_source.html#l00011">11</a> of file <a class="el" href="_nex_shell_callbacks_8c_source.html">NexShellCallbacks.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9662453b8aa11dc8a06f840845195316.html">NexShell</a></li><li class="navelem"><a class="el" href="dir_3af21ba60b481d3981e98075c6af07b8.html">NexShell</a></li><li class="navelem"><a class="el" href="_nex_shell_callbacks_8h.html">NexShellCallbacks.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
